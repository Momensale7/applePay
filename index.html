<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>Pixel</title>
<base href="/">
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/paymob-pixel@latest/styles.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/paymob-pixel@latest/main.css">
</head>
<style>
    .content {
      display: flex;
      flex-direction: column;
      gap: 1rem;
      justify-content: center;
      align-items: center;
      margin-top: 2rem;
    }
    #paymob-elements {
      width: 30%;
    }
    #payFromOutsideButton {
      padding: 0.5rem;
      background-color: blue;
      color: white;
      border-radius: 0.2rem;
    }
</style>
</head>
<body>
<position>
<div class="header" style="padding: 1rem; background-color: rgb(233, 255, 207);">
      Company Paymob
</div>
<div class="wrapper">
<div class="content">
<div id="paymob-elements"></div>
 <button id="payFromOutsideButton">Pay From Outside Button</button>
</div>
</div>
<div class="footer">
</div>
<script src="https://cdn.jsdelivr.net/npm/paymob-pixel@latest/main.js" type="module"></script>
<script src="https://unpkg.com/paymob-pixel/main.js" type="module"></script>
<script>
    // Merchant Pay button logic
      const button = document.getElementById('payFromOutsideButton');
      button?.addEventListener
	  ('click', function () 
	  {
        // Calling pay request
        const event = new Event('payFromOutside');
        window.dispatchEvent(event);
      });
        onload = (event) => {
          new Pixel({
            publicKey: 'are_pk_live_nzed17odxGpbXUHgWWvVqdz5giY0IvNp',
            clientSecret: 'are_csk_live_ff6ebd7c4e21183e5de79a08b6468a6c',
            paymentMethods: ['apple-pay'],
            elementId: 'paymob-elements',
            disablePay: false,
            showSaveCard :true,
			forceSaveCard : true,
            beforePaymentComplete: async (paymentMethod) => 
			{
			            console.log(paymentMethod);
                        console.log('Before payment start');
                        console.log('We are waiting for 5 seconds');
                        await new Promise(res => setTimeout(() => res(''),5000))
                        console.log('Before payment end');
                        return true
            },
            afterPaymentComplete: async (response) =>
              {
               console.log('After Bannas payment');
               console.log(response)
              },
			 onPaymentCancel: () => 
			  {
                console.log('Payment has been canceled');
              },
			  cardValidationChanged: (isValid) => {
			  console.log("Is valid ? ", isValid)
              },              
               customStyle: {
                 Font_Family: 'Gotham',
                 Font_Size_Label: '16',
                 Font_Size_Input_Fields: '16',
                 Font_Size_Payment_Button: '14',
                 Font_Weight_Label: 400,
                 Font_Weight_Input_Fields: 200,
                 Font_Weight_Payment_Button: 600,
                 Color_Container: '#FFF',
                 Color_Border_Input_Fields: '#D0D5DD',
                 Color_Border_Payment_Button: '#A1B8FF',
                 Radius_Border: '8',
                 Color_Disabled: '#A1B8FF',
                 Color_Error: '#CC1142',
                 Color_Primary: '#144DFF',
                 Color_Input_Fields: '#FFF',
                 Text_Color_For_Label: '#000',
                 Text_Color_For_Payment_Button: '#FFF',
                 Text_Color_For_Input_Fields: '#000',
                 Color_For_Text_Placeholder: '#667085',
                 Width_of_Container: '100%',
                 Vertical_Padding: '40',
                 Vertical_Spacing_between_components: '18',
                 Container_Padding: '0'
            }, 
          });
        };
</script>
<script src="https://pay.google.com/gp/p/js/pay.js"></script>
</body>

</html>
